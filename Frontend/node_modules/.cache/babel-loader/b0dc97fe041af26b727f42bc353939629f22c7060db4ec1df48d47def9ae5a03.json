{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/dawidspachowski/Projekt/winter-app-3/Frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100vh;\\n  background-color: #f0f8ff;\\n\"])));const Form=styled.form(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background-color: white;\\n  padding: 40px;\\n  border-radius: 10px;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  width: 300px;\\n  text-align: center;\\n\"])));const Title=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n  font-size: 24px;\\n  color: #0077b6;\\n\"])));const Label=styled.label(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: block;\\n  margin-bottom: 10px;\\n  font-size: 14px;\\n  color: #333;\\n\"])));const Input=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 10px;\\n  margin-bottom: 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  font-size: 14px;\\n\"])));const Button=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background-color: #0077b6;\\n  color: white;\\n  border: none;\\n  padding: 10px 20px;\\n  cursor: pointer;\\n  font-size: 16px;\\n  border-radius: 5px;\\n  transition: background-color 0.3s;\\n\\n  &:hover {\\n    background-color: #005f8a;\\n  }\\n\"])));const ErrorMessage=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  color: red;\\n  font-size: 14px;\\n\"])));const Login=()=>{const[login,setLogin]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();console.log('Formularz wysłany');try{// Sprawdzenie, czy dane logowania to \"admin\" i \"admin\"\nif(login==='admin'&&password==='admin'){console.log('Zalogowano jako admin');// Przekieruj do panelu admina\nnavigate('/admin');}else{// Jeśli nie, wysyłamy żądanie do backendu\nconst response=await axios.post('https://winter-backend-app.azurewebsites.net/api/auth/login',{login,password});console.log('Zalogowano pomyślnie:',response.data);// Zapisz token w localStorage lub w stanie aplikacji\nlocalStorage.setItem('token',response.data.token);// Przekieruj do panelu admina\nnavigate('/admin');}}catch(error){console.error('Błąd podczas logowania:',error);setError('Nieprawidłowy login lub hasło');}};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Title,{children:\"Logowanie\"}),/*#__PURE__*/_jsxs(Label,{children:[\"Login:\",/*#__PURE__*/_jsx(Input,{type:\"text\",value:login,onChange:e=>setLogin(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Label,{children:[\"Has\\u0142o:\",/*#__PURE__*/_jsx(Input,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),error&&/*#__PURE__*/_jsx(ErrorMessage,{children:error}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Zaloguj si\\u0119\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","styled","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Form","form","_templateObject2","Title","h1","_templateObject3","Label","label","_templateObject4","Input","input","_templateObject5","Button","button","_templateObject6","ErrorMessage","p","_templateObject7","Login","login","setLogin","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","console","log","response","post","data","localStorage","setItem","token","children","onSubmit","type","value","onChange","target","required"],"sources":["/Users/dawidspachowski/Projekt/winter-app-3/Frontend/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f0f8ff;\n`;\n\nconst Form = styled.form`\n  background-color: white;\n  padding: 40px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  width: 300px;\n  text-align: center;\n`;\n\nconst Title = styled.h1`\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #0077b6;\n`;\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: #333;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 20px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: 14px;\n`;\n\nconst Button = styled.button`\n  background-color: #0077b6;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  border-radius: 5px;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #005f8a;\n  }\n`;\n\nconst ErrorMessage = styled.p`\n  color: red;\n  font-size: 14px;\n`;\n\nconst Login = () => {\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log('Formularz wysłany');\n    try {\n      // Sprawdzenie, czy dane logowania to \"admin\" i \"admin\"\n      if (login === 'admin' && password === 'admin') {\n        console.log('Zalogowano jako admin');\n        // Przekieruj do panelu admina\n        navigate('/admin');\n      } else {\n        // Jeśli nie, wysyłamy żądanie do backendu\n        const response = await axios.post('https://winter-backend-app.azurewebsites.net/api/auth/login', { login, password });\n        console.log('Zalogowano pomyślnie:', response.data);\n        // Zapisz token w localStorage lub w stanie aplikacji\n        localStorage.setItem('token', response.data.token);\n        // Przekieruj do panelu admina\n        navigate('/admin');\n      }\n    } catch (error) {\n      console.error('Błąd podczas logowania:', error);\n      setError('Nieprawidłowy login lub hasło');\n    }\n  };\n\n  return (\n    <Container>\n      <Form onSubmit={handleSubmit}>\n        <Title>Logowanie</Title>\n        <Label>\n          Login:\n          <Input\n            type=\"text\"\n            value={login}\n            onChange={(e) => setLogin(e.target.value)}\n            required\n          />\n        </Label>\n        <Label>\n          Hasło:\n          <Input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n        </Label>\n        {error && <ErrorMessage>{error}</ErrorMessage>}\n        <Button type=\"submit\">Zaloguj się</Button>\n      </Form>\n    </Container>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}